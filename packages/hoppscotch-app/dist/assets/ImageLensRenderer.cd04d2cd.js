import{f as _,E as w,j as h,g as m,p as v,h as k,aj as g,d0 as f,ag as x,i as L,ai as B,X as R,ap as C,eM as D,z as S,o as u,d as A,e as i,t as F,l as r,k as j,c as M,f8 as U,s as z,x as E}from"./index.45473f34.js";import{a as I}from"./lens-actions.b9670b75.js";import{s as $,h as H,c as K}from"./json.6cb86656.js";import{K as N}from"./network.06b72a84.js";import"./utils.88b63f0a.js";import"./check-circle.65af11ff.js";import"./importers.3b63d7f5.js";import"./___vite-browser-external_commonjs-proxy.92399065.js";import"./TaskOption.0cc1241a.js";import"./Tab.vue_vue_type_script_setup_true_lang.417ddf5c.js";import"./helpers.0e7c9bd0.js";import"./rotate-ccw.f94b3237.js";import"./json.287152ff.js";import"./date.bdfa601e.js";import"./Checkbox.7a999cd4.js";const P={class:"flex flex-col flex-1"},T={class:"sticky z-10 flex items-center justify-between pl-4 border-b bg-primary border-dividerLight top-lowerSecondaryStickyFold"},V={class:"font-semibold text-secondaryLight"},J={class:"flex"},O=["src","alt"],le=_({__name:"ImageLensRenderer",props:{response:null},setup(c){const t=c,d=w(),s=h(""),b=m(()=>v(t.response,B(N("type",["fail","success"])),g(f(e=>e.headers,L(e=>e.key.toLowerCase()==="content-type"),x(f(e=>e.value,$(";"),H,K)))),k(()=>"text/plain"))),{downloadIcon:y,downloadResponse:p}=I(b.value,m(()=>t.response.body));return R(t.response,()=>{s.value="";const e=t.response.body,n=new Uint8Array(e),a=new Blob([n.buffer]),o=new FileReader;o.onload=({target:l})=>{s.value=l.result},o.readAsDataURL(a)}),C(()=>{s.value="";const e=t.response.body,n=new Uint8Array(e),a=new Blob([n.buffer]),o=new FileReader;o.onload=({target:l})=>{s.value=l.result},o.readAsDataURL(a)}),D("response.file.download",()=>p()),(e,n)=>{const a=E,o=S("tippy");return u(),A("div",P,[i("div",T,[i("label",V,F(r(d)("response.body")),1),i("div",J,[c.response.body?j((u(),M(a,{key:0,title:`${r(d)("action.download_file")} <kbd>${r(U)()}</kbd><kbd>J</kbd>`,icon:r(y),onClick:r(p)},null,8,["title","icon","onClick"])),[[o,{theme:"tooltip",allowHTML:!0}]]):z("",!0)])]),i("img",{class:"flex max-w-full border-b border-dividerLight",src:s.value,loading:"lazy",alt:s.value},null,8,O)])}}});export{le as default};
//# sourceMappingURL=ImageLensRenderer.cd04d2cd.js.map
